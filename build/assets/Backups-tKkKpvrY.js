import{j as e}from"./markdown-Bat84yML.js";import{r as w,u as Q,a5 as ee,X as te,v as P,O as z,c as V,D as he,a6 as R,a7 as me,a1 as L,d as $,J as U,a8 as J,o as q,a9 as xe,aa as fe,w as ve,e as ge,z as be}from"./lucide-Bfyd0ICn.js";import{V as ye}from"./VoidDropdown-C1MOWfVa.js";import{g as we}from"./react-vendor-N--QU9DW.js";import{u as je}from"./index-BOUrY8QV.js";import{R as Ne}from"./RestrictedView-Cn5sOcE9.js";var H={exports:{}},K;function ke(){return K||(K=1,(function(S,y){(function(O,k){S.exports=k()})(globalThis,()=>(()=>{var E={949:((h,f,v)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CronParser=void 0;var n=v(515),g=(function(){function x(r,t,a){t===void 0&&(t=!0),a===void 0&&(a=!1),this.expression=r,this.dayOfWeekStartIndexZero=t,this.monthStartIndexZero=a}return x.prototype.parse=function(){var r,t,a=(r=this.expression)!==null&&r!==void 0?r:"";if(a==="@reboot")return t=["@reboot","","","","","",""],t;if(a.startsWith("@")){var s=this.parseSpecial(this.expression);t=this.extractParts(s)}else t=this.extractParts(this.expression);return this.normalize(t),this.validate(t),t},x.prototype.parseSpecial=function(r){var t={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@midnight":"0 0 * * *","@hourly":"0 * * * *","@reboot":"@reboot"},a=t[r];if(!a)throw new Error("Unknown special expression.");return a},x.prototype.extractParts=function(r){if(!this.expression)throw new Error("cron expression is empty");for(var t=r.trim().split(/[ ]+/),a=0;a<t.length;a++)if(t[a].includes(",")){var s=t[a].split(",").map(function(l){return l.trim()}).filter(function(l){return l!==""}).map(function(l){return isNaN(Number(l))?l:Number(l)}).filter(function(l){return l!==null&&l!==""});s.length===0&&s.push("*"),s.sort(function(l,i){return l!==null&&i!==null?l-i:0}),t[a]=s.map(function(l){return l!==null?l.toString():""}).join(",")}if(t.length<5)throw new Error("Expression has only ".concat(t.length," part").concat(t.length==1?"":"s",". At least 5 parts are required."));if(t.length==5)t.unshift(""),t.push("");else if(t.length==6){var c=/\d{4}$/.test(t[5])||t[4]=="?"||t[2]=="?";c?t.unshift(""):t.push("")}else if(t.length>7)throw new Error("Expression has ".concat(t.length," parts; too many!"));return t},x.prototype.normalize=function(r){var t=this;if(r[3]=r[3].replace("?","*"),r[5]=r[5].replace("?","*"),r[2]=r[2].replace("?","*"),r[0].indexOf("0/")==0&&(r[0]=r[0].replace("0/","*/")),r[1].indexOf("0/")==0&&(r[1]=r[1].replace("0/","*/")),r[2].indexOf("0/")==0&&(r[2]=r[2].replace("0/","*/")),r[3].indexOf("1/")==0&&(r[3]=r[3].replace("1/","*/")),r[4].indexOf("1/")==0&&(r[4]=r[4].replace("1/","*/")),r[6].indexOf("1/")==0&&(r[6]=r[6].replace("1/","*/")),r[5]=r[5].replace(/(^\d)|([^#/\s]\d)/g,function(u){var b=u.replace(/\D/,""),m=b;return t.dayOfWeekStartIndexZero?b=="7"&&(m="0"):m=(parseInt(b)-1).toString(),u.replace(b,m)}),r[5]=="L"&&(r[5]="6"),r[3]=="?"&&(r[3]="*"),r[3].indexOf("W")>-1&&(r[3].indexOf(",")>-1||r[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var a={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var s in a)r[5]=r[5].replace(new RegExp(s,"gi"),a[s].toString());r[4]=r[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,function(u){var b=u.replace(/\D/,""),m=b;return t.monthStartIndexZero&&(m=(parseInt(b)+1).toString()),u.replace(b,m)});var c={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var l in c)r[4]=r[4].replace(new RegExp(l,"gi"),c[l].toString());r[0]=="0"&&(r[0]=""),!/\*|\-|\,|\//.test(r[2])&&(/\*|\//.test(r[1])||/\*|\//.test(r[0]))&&(r[2]+="-".concat(r[2]));for(var i=0;i<r.length;i++)if(r[i].indexOf(",")!=-1&&(r[i]=r[i].split(",").filter(function(u){return u!==""}).join(",")||"*"),r[i]=="*/1"&&(r[i]="*"),r[i].indexOf("/")>-1&&!/^\*|\-|\,/.test(r[i])){var d=null;switch(i){case 4:d="12";break;case 5:d="6";break;case 6:d="9999";break;default:d=null;break}if(d!==null){var p=r[i].split("/");r[i]="".concat(p[0],"-").concat(d,"/").concat(p[1])}}},x.prototype.validate=function(r){var t="0-9,\\-*/";this.validateOnlyExpectedCharactersFound(r[0],t),this.validateOnlyExpectedCharactersFound(r[1],t),this.validateOnlyExpectedCharactersFound(r[2],t),this.validateOnlyExpectedCharactersFound(r[3],"0-9,\\-*/LW"),this.validateOnlyExpectedCharactersFound(r[4],t),this.validateOnlyExpectedCharactersFound(r[5],"0-9,\\-*/L#"),this.validateOnlyExpectedCharactersFound(r[6],t),this.validateAnyRanges(r)},x.prototype.validateAnyRanges=function(r){n.default.secondRange(r[0]),n.default.minuteRange(r[1]),n.default.hourRange(r[2]),n.default.dayOfMonthRange(r[3]),n.default.monthRange(r[4],this.monthStartIndexZero),n.default.dayOfWeekRange(r[5],this.dayOfWeekStartIndexZero)},x.prototype.validateOnlyExpectedCharactersFound=function(r,t){var a=r.match(new RegExp("[^".concat(t,"]+"),"gi"));if(a&&a.length)throw new Error("Expression contains invalid values: '".concat(a.toString(),"'"))},x})();f.CronParser=g}),333:((h,f,v)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ExpressionDescriptor=void 0;var n=v(823),g=v(949),x=(function(){function r(t,a){if(this.expression=t,this.options=a,this.expressionParts=new Array(5),!this.options.locale&&r.defaultLocale&&(this.options.locale=r.defaultLocale),!r.locales[this.options.locale]){var s=Object.keys(r.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(s,"'.")),this.options.locale=s}this.i18n=r.locales[this.options.locale],a.use24HourTimeFormat===void 0&&(a.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return r.toString=function(t,a){var s=a===void 0?{}:a,c=s.throwExceptionOnParseError,l=c===void 0?!0:c,i=s.verbose,d=i===void 0?!1:i,p=s.dayOfWeekStartIndexZero,u=p===void 0?!0:p,b=s.monthStartIndexZero,m=b===void 0?!1:b,C=s.use24HourTimeFormat,N=s.locale,T=N===void 0?null:N,D=s.logicalAndDayFields,M=D===void 0?!1:D,X={throwExceptionOnParseError:l,verbose:d,dayOfWeekStartIndexZero:u,monthStartIndexZero:m,use24HourTimeFormat:C,locale:T,logicalAndDayFields:M};X.tzOffset&&console.warn("'tzOffset' option has been deprecated and is no longer supported.");var F=new r(t,X);return F.getFullDescription()},r.initialize=function(t,a){a===void 0&&(a="en"),r.specialCharacters=["/","-",",","*"],r.defaultLocale=a,t.load(r.locales)},r.prototype.getFullDescription=function(){var t,a,s="";try{var c=new g.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);if(this.expressionParts=c.parse(),this.expressionParts[0]==="@reboot")return((a=(t=this.i18n).atReboot)===null||a===void 0?void 0:a.call(t))||"Run once, at startup";var l=this.getTimeOfDayDescription(),i=this.getDayOfMonthDescription(),d=this.getMonthDescription(),p=this.getDayOfWeekDescription(),u=this.getYearDescription();s+=l+i+p+d+u,s=this.transformVerbosity(s,!!this.options.verbose),s=s.charAt(0).toLocaleUpperCase()+s.substr(1)}catch(b){if(!this.options.throwExceptionOnParseError)s=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD();else throw"".concat(b)}return s},r.prototype.getTimeOfDayDescription=function(){var t=this.expressionParts[0],a=this.expressionParts[1],s=this.expressionParts[2],c="";if(!n.StringUtilities.containsAny(a,r.specialCharacters)&&!n.StringUtilities.containsAny(s,r.specialCharacters)&&!n.StringUtilities.containsAny(t,r.specialCharacters))c+=this.i18n.atSpace()+this.formatTime(s,a,t);else if(!t&&a.indexOf("-")>-1&&!(a.indexOf(",")>-1)&&!(a.indexOf("/")>-1)&&!n.StringUtilities.containsAny(s,r.specialCharacters)){var l=a.split("-");c+=n.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(s,l[0],""),this.formatTime(s,l[1],""))}else if(!t&&s.indexOf(",")>-1&&s.indexOf("-")==-1&&s.indexOf("/")==-1&&!n.StringUtilities.containsAny(a,r.specialCharacters)){var i=s.split(",");c+=this.i18n.at();for(var d=0;d<i.length;d++)c+=" ",c+=this.formatTime(i[d],a,""),d<i.length-2&&(c+=","),d==i.length-2&&(c+=this.i18n.spaceAnd())}else{var p=this.getSecondsDescription(),u=this.getMinutesDescription(),b=this.getHoursDescription();if(c+=p,c&&u&&(c+=", "),c+=u,u===b)return c;c&&b&&(c+=", "),c+=b}return c},r.prototype.getSecondsDescription=function(){var t=this,a=this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),function(s){return s},function(s){return n.StringUtilities.format(t.i18n.everyX0Seconds(s),s)},function(s){return t.i18n.secondsX0ThroughX1PastTheMinute()},function(s){return s=="0"?"":parseInt(s)<20?t.i18n.atX0SecondsPastTheMinute(s):t.i18n.atX0SecondsPastTheMinuteGt20()||t.i18n.atX0SecondsPastTheMinute(s)});return a},r.prototype.getMinutesDescription=function(){var t=this,a=this.expressionParts[0],s=this.expressionParts[2],c=this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),function(l){return l},function(l){return n.StringUtilities.format(t.i18n.everyX0Minutes(l),l)},function(l){return t.i18n.minutesX0ThroughX1PastTheHour()},function(l){try{return l=="0"&&s.indexOf("/")==-1&&a==""?t.i18n.everyHour():parseInt(l)<20?t.i18n.atX0MinutesPastTheHour(l):t.i18n.atX0MinutesPastTheHourGt20()||t.i18n.atX0MinutesPastTheHour(l)}catch{return t.i18n.atX0MinutesPastTheHour(l)}});return c},r.prototype.getHoursDescription=function(){var t=this,a=this.expressionParts[2],s=0,c=[];a.split("/")[0].split(",").forEach(function(d){var p=d.split("-");p.length===2&&c.push({value:p[1],index:s+1}),s+=p.length});var l=0,i=this.getSegmentDescription(a,this.i18n.everyHour(),function(d){var p=c.find(function(b){return b.value===d&&b.index===l}),u=p&&t.expressionParts[1]!=="0";return l++,u?t.formatTime(d,"59",""):t.formatTime(d,"0","")},function(d){return n.StringUtilities.format(t.i18n.everyX0Hours(d),d)},function(d){return t.i18n.betweenX0AndX1()},function(d){return t.i18n.atX0()});return i},r.prototype.getDayOfWeekDescription=function(){var t=this,a=this.i18n.daysOfTheWeek(),s=null;return this.expressionParts[5]=="*"?s="":s=this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),function(c,l){var i=c;c.indexOf("#")>-1?i=c.substring(0,c.indexOf("#")):c.indexOf("L")>-1&&(i=i.replace("L",""));var d=parseInt(i),p=t.i18n.daysOfTheWeekInCase?t.i18n.daysOfTheWeekInCase(l)[d]:a[d];if(c.indexOf("#")>-1){var u=null,b=c.substring(c.indexOf("#")+1),m=c.substring(0,c.indexOf("#"));switch(b){case"1":u=t.i18n.first(m);break;case"2":u=t.i18n.second(m);break;case"3":u=t.i18n.third(m);break;case"4":u=t.i18n.fourth(m);break;case"5":u=t.i18n.fifth(m);break}p=u+" "+p}return p},function(c){return parseInt(c)==1?"":n.StringUtilities.format(t.i18n.commaEveryX0DaysOfTheWeek(c),c)},function(c){var l=c.substring(0,c.indexOf("-")),i=t.expressionParts[3]!="*";return i?t.i18n.commaAndX0ThroughX1(l):t.i18n.commaX0ThroughX1(l)},function(c){var l=null;if(c.indexOf("#")>-1){var i=c.substring(c.indexOf("#")+1),d=c.substring(0,c.indexOf("#"));l=t.i18n.commaOnThe(i,d).trim()+t.i18n.spaceX0OfTheMonth()}else if(c.indexOf("L")>-1)l=t.i18n.commaOnTheLastX0OfTheMonth(c.replace("L",""));else{var p=t.expressionParts[3]!="*";p?t.options.logicalAndDayFields?l=t.i18n.commaOnlyOnX0(c):l=t.i18n.commaAndOnX0():l=t.i18n.commaOnlyOnX0(c)}return l}),s},r.prototype.getMonthDescription=function(){var t=this,a=this.i18n.monthsOfTheYear(),s=this.getSegmentDescription(this.expressionParts[4],"",function(c,l){return l&&t.i18n.monthsOfTheYearInCase?t.i18n.monthsOfTheYearInCase(l)[parseInt(c)-1]:a[parseInt(c)-1]},function(c){return parseInt(c)==1?"":n.StringUtilities.format(t.i18n.commaEveryX0Months(c),c)},function(c){return t.i18n.commaMonthX0ThroughMonthX1()||t.i18n.commaX0ThroughX1()},function(c){return t.i18n.commaOnlyInMonthX0?t.i18n.commaOnlyInMonthX0():t.i18n.commaOnlyInX0()});return s},r.prototype.getDayOfMonthDescription=function(){var t=this,a=null,s=this.expressionParts[3];switch(s){case"L":a=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":a=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var c=s.match(/(\d{1,2}W)|(W\d{1,2})/);if(c){var l=parseInt(c[0].replace("W","")),i=l==1?this.i18n.firstWeekday():n.StringUtilities.format(this.i18n.weekdayNearestDayX0(),l.toString());a=n.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),i);break}else{var d=s.match(/L-(\d{1,2})/);if(d){var p=d[1];a=n.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(p),p);break}else{if(s=="*"&&this.expressionParts[5]!="*")return"";a=this.getSegmentDescription(s,this.i18n.commaEveryDay(),function(u){return u=="L"?t.i18n.lastDay():t.i18n.dayX0?n.StringUtilities.format(t.i18n.dayX0(),u):u},function(u){return u=="1"?t.i18n.commaEveryDay():t.i18n.commaEveryX0Days(u)},function(u){return t.i18n.commaBetweenDayX0AndX1OfTheMonth(u)},function(u){return t.i18n.commaOnDayX0OfTheMonth(u)})}break}}return a},r.prototype.getYearDescription=function(){var t=this,a=this.getSegmentDescription(this.expressionParts[6],"",function(s){return/^\d+$/.test(s)?new Date(parseInt(s),1).getFullYear().toString():s},function(s){return n.StringUtilities.format(t.i18n.commaEveryX0Years(s),s)},function(s){return t.i18n.commaYearX0ThroughYearX1()||t.i18n.commaX0ThroughX1()},function(s){return t.i18n.commaOnlyInYearX0?t.i18n.commaOnlyInYearX0():t.i18n.commaOnlyInX0()});return a},r.prototype.getSegmentDescription=function(t,a,s,c,l,i){var d=null,p=t.indexOf("/")>-1,u=t.indexOf("-")>-1,b=t.indexOf(",")>-1;if(!t)d="";else if(t==="*")d=a;else if(!p&&!u&&!b)d=n.StringUtilities.format(i(t),s(t));else if(b){for(var m=t.split(","),C="",N=0;N<m.length;N++)if(N>0&&m.length>2&&(C+=",",N<m.length-1&&(C+=" ")),N>0&&m.length>1&&(N==m.length-1||m.length==2)&&(C+="".concat(this.i18n.spaceAnd()," ")),m[N].indexOf("/")>-1||m[N].indexOf("-")>-1){var T=m[N].indexOf("-")>-1&&m[N].indexOf("/")==-1,D=this.getSegmentDescription(m[N],a,s,c,T?this.i18n.commaX0ThroughX1:l,i);T&&(D=D.replace(", ","")),C+=D}else p?C+=this.getSegmentDescription(m[N],a,s,c,l,i):C+=s(m[N]);p?d=C:d=n.StringUtilities.format(i(t),C)}else if(p){var m=t.split("/");if(d=n.StringUtilities.format(c(m[1]),m[1]),m[0].indexOf("-")>-1){var M=this.generateRangeSegmentDescription(m[0],l,s);M.indexOf(", ")!=0&&(d+=", "),d+=M}else if(m[0].indexOf("*")==-1){var X=n.StringUtilities.format(i(m[0]),s(m[0]));X=X.replace(", ",""),d+=n.StringUtilities.format(this.i18n.commaStartingX0(),X)}}else u&&(d=this.generateRangeSegmentDescription(t,l,s));return d},r.prototype.generateRangeSegmentDescription=function(t,a,s){var c="",l=t.split("-"),i=s(l[0],1),d=s(l[1],2),p=a(t);return c+=n.StringUtilities.format(p,i,d),c},r.prototype.formatTime=function(t,a,s){var c=0,l=0,i=parseInt(t)+c,d=parseInt(a)+l;d>=60?(d-=60,i+=1):d<0&&(d+=60,i-=1),i>=24?i=i-24:i<0&&(i=24+i);var p="",u=!1;this.options.use24HourTimeFormat||(u=!!(this.i18n.setPeriodBeforeTime&&this.i18n.setPeriodBeforeTime()),p=u?"".concat(this.getPeriod(i)," "):" ".concat(this.getPeriod(i)),i>12&&(i-=12),i===0&&(i=12));var b="";return s&&(b=":".concat(("00"+s).substring(s.length))),"".concat(u?p:"").concat(("00"+i.toString()).substring(i.toString().length),":").concat(("00"+d.toString()).substring(d.toString().length)).concat(b).concat(u?"":p)},r.prototype.transformVerbosity=function(t,a){if(!a&&(t=t.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),""),t=t.replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),""),t=t.replace(new RegExp(this.i18n.commaEveryDay(),"g"),""),t=t.replace(/\, ?$/,""),this.i18n.conciseVerbosityReplacements))for(var s=0,c=Object.entries(this.i18n.conciseVerbosityReplacements());s<c.length;s++){var l=c[s],i=l[0],d=l[1];t=t.replace(new RegExp(i,"g"),d)}return t},r.prototype.getPeriod=function(t){return t>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},r.locales={},r})();f.ExpressionDescriptor=x}),747:((h,f,v)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.enLocaleLoader=void 0;var n=v(486),g=(function(){function x(){}return x.prototype.load=function(r){r.en=new n.en},x})();f.enLocaleLoader=g}),486:((h,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.en=void 0;var v=(function(){function n(){}return n.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},n.prototype.atX0MinutesPastTheHourGt20=function(){return null},n.prototype.commaMonthX0ThroughMonthX1=function(){return null},n.prototype.commaYearX0ThroughYearX1=function(){return null},n.prototype.use24HourTimeFormatByDefault=function(){return!1},n.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occurred when generating the expression description. Check the cron expression syntax."},n.prototype.everyMinute=function(){return"every minute"},n.prototype.everyHour=function(){return"every hour"},n.prototype.atSpace=function(){return"At "},n.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},n.prototype.at=function(){return"At"},n.prototype.spaceAnd=function(){return" and"},n.prototype.everySecond=function(){return"every second"},n.prototype.everyX0Seconds=function(){return"every %s seconds"},n.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},n.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},n.prototype.everyX0Minutes=function(){return"every %s minutes"},n.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},n.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},n.prototype.everyX0Hours=function(){return"every %s hours"},n.prototype.betweenX0AndX1=function(){return"between %s and %s"},n.prototype.atX0=function(){return"at %s"},n.prototype.commaEveryDay=function(){return", every day"},n.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},n.prototype.commaX0ThroughX1=function(){return", %s through %s"},n.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},n.prototype.first=function(){return"first"},n.prototype.second=function(){return"second"},n.prototype.third=function(){return"third"},n.prototype.fourth=function(){return"fourth"},n.prototype.fifth=function(){return"fifth"},n.prototype.commaOnThe=function(){return", on the "},n.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},n.prototype.lastDay=function(){return"the last day"},n.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},n.prototype.commaOnlyOnX0=function(){return", only on %s"},n.prototype.commaAndOnX0=function(){return", and on %s"},n.prototype.commaEveryX0Months=function(){return", every %s months"},n.prototype.commaOnlyInX0=function(){return", only in %s"},n.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},n.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},n.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},n.prototype.firstWeekday=function(){return"first weekday"},n.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},n.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},n.prototype.commaEveryX0Days=function(){return", every %s days"},n.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},n.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},n.prototype.commaEveryHour=function(){return", every hour"},n.prototype.commaEveryX0Years=function(){return", every %s years"},n.prototype.commaStartingX0=function(){return", starting %s"},n.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},n.prototype.atReboot=function(){return"Run once, at startup"},n})();f.en=v}),515:((h,f)=>{Object.defineProperty(f,"__esModule",{value:!0});function v(g,x){if(!g)throw new Error(x)}var n=(function(){function g(){}return g.secondRange=function(x){for(var r=x.split(","),t=0;t<r.length;t++)if(!isNaN(parseInt(r[t],10))){var a=parseInt(r[t],10);v(a>=0&&a<=59,"seconds part must be >= 0 and <= 59")}},g.minuteRange=function(x){for(var r=x.split(","),t=0;t<r.length;t++)if(!isNaN(parseInt(r[t],10))){var a=parseInt(r[t],10);v(a>=0&&a<=59,"minutes part must be >= 0 and <= 59")}},g.hourRange=function(x){for(var r=x.split(","),t=0;t<r.length;t++)if(!isNaN(parseInt(r[t],10))){var a=parseInt(r[t],10);v(a>=0&&a<=23,"hours part must be >= 0 and <= 23")}},g.dayOfMonthRange=function(x){for(var r=x.split(","),t=0;t<r.length;t++)if(!isNaN(parseInt(r[t],10))){var a=parseInt(r[t],10);v(a>=1&&a<=31,"DOM part must be >= 1 and <= 31")}},g.monthRange=function(x,r){for(var t=x.split(","),a=0;a<t.length;a++)if(!isNaN(parseInt(t[a],10))){var s=parseInt(t[a],10);v(s>=1&&s<=12,r?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},g.dayOfWeekRange=function(x,r){for(var t=x.split(","),a=0;a<t.length;a++)if(!isNaN(parseInt(t[a],10))){var s=parseInt(t[a],10);v(s>=0&&s<=6,r?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},g})();f.default=n}),823:((h,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StringUtilities=void 0;var v=(function(){function n(){}return n.format=function(g){for(var x=[],r=1;r<arguments.length;r++)x[r-1]=arguments[r];return g.replace(/%s/g,function(t){return x.shift()})},n.containsAny=function(g,x){return x.some(function(r){return g.indexOf(r)>-1})},n})();f.StringUtilities=v})},O={};function k(h){var f=O[h];if(f!==void 0)return f.exports;var v=O[h]={exports:{}};return E[h](v,v.exports,k),v.exports}var _={};return(()=>{var h=_;Object.defineProperty(h,"__esModule",{value:!0}),h.toString=void 0;var f=k(333),v=k(747);f.ExpressionDescriptor.initialize(new v.enLocaleLoader),h.default=f.ExpressionDescriptor;var n=f.ExpressionDescriptor.toString;h.toString=n})(),_})())})(H)),H.exports}var Ae=ke();const Y=we(Ae),W=[{label:"Every Hour",cron:"0 * * * *",description:"At minute 0 of every hour"},{label:"Daily (Midnight)",cron:"0 0 * * *",description:"Every day at midnight"},{label:"Daily (6 AM)",cron:"0 6 * * *",description:"Every day at 6:00 AM"},{label:"Weekly (Sunday)",cron:"0 0 * * 0",description:"Every Sunday at midnight"},{label:"Monthly (1st)",cron:"0 0 1 * *",description:"First day of every month"}],Se=({value:S,onChange:y,className:E=""})=>{const[O,k]=w.useState(!1),[_,h]=w.useState(S||"0 0 * * *"),[f,v]=w.useState(""),[n,g]=w.useState(""),[x,r]=w.useState(null);w.useEffect(()=>{const i=S||_;!W.find(p=>p.cron===i)&&i&&(k(!0),h(i));try{const p=Y.toString(i,{use24HourTimeFormat:!1});v(p),g("")}catch{v(""),g("Invalid cron expression")}},[S,_]);const t=i=>{k(!1),h(i.cron),y(i.cron)},a=i=>{const d=i.target.value;h(d);try{Y.toString(d),g(""),y(d)}catch{g("Invalid cron expression")}},s=()=>{k(!O),O||y(_)},c=S||_,l=W.find(i=>i.cron===c);return e.jsxs("div",{className:`space-y-3 ${E}`,children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.map(i=>e.jsx("button",{type:"button",onClick:()=>t(i),className:`px-3 py-1.5 text-sm rounded-lg border transition-all ${l?.cron===i.cron&&!O?"bg-void-cyan/20 border-void-cyan text-void-text":"bg-void-bg border-void-border text-void-muted hover:border-void-cyan/50 hover:text-void-text"}`,title:i.description,children:i.label},i.cron)),e.jsx("button",{type:"button",onClick:s,className:`px-3 py-1.5 text-sm rounded-lg border transition-all ${O?"bg-void-purple/20 border-void-purple text-void-text":"bg-void-bg border-void-border text-void-muted hover:border-void-purple/50 hover:text-void-text"}`,children:"Custom"})]}),O&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:_,onChange:a,placeholder:"* * * * *",className:`flex-1 px-3 py-2 bg-void-bg border rounded-lg text-void-text font-mono text-sm ${n?"border-red-500":"border-void-border focus:border-void-cyan"} focus:outline-none`}),e.jsx("a",{href:"https://crontab.guru/",target:"_blank",rel:"noopener noreferrer",className:"text-void-muted hover:text-void-cyan text-xs",title:"Cron expression help",children:"?"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[f&&!n&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-void-muted",children:[e.jsx(Q,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:f})]}),n&&e.jsx("div",{className:"text-sm text-red-400",children:n})]})]})},Oe=({isOpen:S,onClose:y,backupId:E,onRestore:O})=>{const[k,_]=w.useState(!0),[h,f]=w.useState(null),[v,n]=w.useState(null),[g,x]=w.useState(!1),[r,t]=w.useState("");w.useEffect(()=>{S&&E&&a()},[S,E]);const a=async()=>{_(!0),n(null);try{const i=await window.electronAPI.getBackupPreview(E);f(i),t(i.server_name||"Restored Server")}catch(i){n(i.message||"Failed to load backup preview")}finally{_(!1)}},s=async()=>{x(!0),n(null);try{const i=await window.electronAPI.restoreBackup(E);O&&O(i),y()}catch(i){n(i.message||"Failed to restore backup")}finally{x(!1)}},c=i=>{if(!i)return"Unknown";const d=1024,p=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(i)/Math.log(d));return Math.round(i/Math.pow(d,u)*100)/100+" "+p[u]},l=i=>i?new Date(i).toLocaleString():"Unknown";return S?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:y}),e.jsxs("div",{className:"relative bg-void-panel border border-void-border rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-void-border",children:[e.jsxs("h3",{className:"text-lg font-bold text-void-text flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-void-cyan"}),"Restore Backup"]}),e.jsx("button",{onClick:y,className:"p-1 hover:bg-void-bg rounded-lg transition-colors",children:e.jsx(te,{className:"w-5 h-5 text-void-muted"})})]}),e.jsx("div",{className:"p-4",children:k?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(P,{className:"w-8 h-8 text-void-cyan animate-spin"})}):v&&!h?e.jsxs("div",{className:"flex flex-col items-center gap-3 py-8",children:[e.jsx(z,{className:"w-12 h-12 text-red-400"}),e.jsx("p",{className:"text-red-400 text-center",children:v}),e.jsx("button",{onClick:a,className:"px-4 py-2 bg-void-cyan/15 hover:bg-void-cyan/20 rounded-lg text-void-text",children:"Retry"})]}):h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-void-bg border border-void-border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"w-5 h-5 text-void-purple mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-void-muted",children:"Original Server"}),e.jsx("div",{className:"text-void-text font-medium",children:h.server_name}),e.jsxs("div",{className:"text-xs text-void-muted mt-0.5",children:["Type: ",h.server_type]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-void-amber mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-void-muted",children:"Backup Size"}),e.jsx("div",{className:"text-void-text font-medium",children:c(h.size)}),e.jsxs("div",{className:"text-xs text-void-muted mt-0.5",children:[h.backup_type==="incremental"?"Incremental backup":"Full backup",h.files_count&&` â€¢ ${h.files_count} files`]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{className:"w-5 h-5 text-void-cyan mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-void-muted",children:"Created"}),e.jsx("div",{className:"text-void-text font-medium",children:l(h.created_at)}),h.expires_at&&e.jsxs("div",{className:"text-xs text-void-muted mt-0.5",children:["Expires: ",l(h.expires_at)]})]})]}),h.original_path&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(me,{className:"w-5 h-5 text-void-green mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-void-muted",children:"Original Path"}),e.jsx("div",{className:"text-void-text font-medium text-xs break-all",children:h.original_path})]})]})]}),h.server_exists&&e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3 flex items-start gap-3",children:[e.jsx(z,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-200",children:[e.jsx("strong",{children:"Server Already Exists"}),e.jsx("p",{className:"text-amber-200/80 mt-1",children:"The original server still exists. Restoring will create a new server with a different name."})]})]}),!h.server_exists&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-void-muted mb-1",children:"New Server Name"}),e.jsx("input",{type:"text",value:r,onChange:i=>t(i.target.value),className:"w-full px-3 py-2 bg-void-bg border border-void-border rounded-lg text-void-text focus:border-void-cyan focus:outline-none",placeholder:"Enter server name..."})]}),v&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:v})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-void-border bg-void-bg/50",children:[e.jsx("button",{onClick:y,disabled:g,className:"px-4 py-2 text-void-muted hover:text-void-text transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:s,disabled:k||g||!h&&!v,className:"px-6 py-2 bg-void-cyan/15 hover:bg-void-cyan/25 border border-void-cyan/30 text-void-text rounded-lg font-medium flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4 animate-spin"}),"Restoring..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4"}),"Restore Backup"]})})]})]})]}):null},Me=({cloudUser:S})=>{const y=je(),[E,O]=w.useState([]),[k,_]=w.useState([]),[h,f]=w.useState(""),[v,n]=w.useState(!1),[g,x]=w.useState([]),[r,t]=w.useState(6),[a,s]=w.useState(!1),[c,l]=w.useState({server_id:"",cron_expr:"0 0 * * *",incremental:!0,compression_level:6,retention_days:30}),[i,d]=w.useState(!1),[p,u]=w.useState(null),[b,m]=w.useState(!1),C=w.useMemo(()=>{if(!S)return!1;if(S.is_restricted)return!0;try{const o=typeof S.restricted_features=="string"?JSON.parse(S.restricted_features):S.restricted_features;if(Array.isArray(o)&&o.includes("create_backup"))return!0}catch{}return!1},[S]);w.useEffect(()=>{N();const o=setInterval(N,5e3);return()=>clearInterval(o)},[]),w.useEffect(()=>{const o=()=>{N()};return window.addEventListener("void-active-account-changed",o),()=>{window.removeEventListener("void-active-account-changed",o)}},[]);const N=async()=>{await Promise.all([I(),G(),T()])},T=async()=>{try{const o=await window.electronAPI.getBackupSchedules();x(o||[])}catch{}},D=async()=>{if(!c.server_id){y.alert("Please select a server for the schedule");return}try{await window.electronAPI.createBackupSchedule(c),y.success("Schedule created"),l({server_id:"",cron_expr:"0 0 * * *",incremental:!0,compression_level:6,retention_days:30}),T()}catch{y.error("Failed to create schedule")}},M=async(o,j)=>{try{await window.electronAPI.updateBackupSchedule(o,{enabled:!j}),T()}catch{y.error("Failed to update schedule")}},X=async o=>{if(await y.confirm("Delete this schedule?"))try{await window.electronAPI.deleteBackupSchedule(o),T()}catch{y.error("Failed to delete schedule")}},F=async o=>{try{await window.electronAPI.runBackupSchedule(o),y.success("Schedule run requested"),T(),I()}catch{y.error("Failed to run schedule")}},re=async o=>{try{const j=window.electronAPI.config.backendPort||3456;window.electronAPI.openExternal(`http://localhost:${j}/api/backups/${o}/file`)}catch{}},I=async()=>{try{const o=await window.electronAPI.getBackups();O(o)}catch{}},ne=o=>{u(o),d(!0)},ae=()=>{G(),I()},G=async()=>{try{const o=await window.electronAPI.getServers();_(o)}catch{}},se=async()=>{if(C){y.alert("You are restricted from creating backups.");return}if(!h){y.alert("Please select a server");return}n(!0);try{const o=window.electronAPI.config.backendPort||3456;if(!(await fetch(`http://localhost:${o}/api/backups/${h}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({compression_level:r,incremental:a})})).ok)throw new Error("Failed");y.success("Backup created successfully!"),I(),f("")}catch{y.error("Failed to create backup")}finally{n(!1)}},oe=async o=>{if(await y.confirm("Are you sure you want to delete this backup?"))try{await window.electronAPI.deleteBackup(o),y.success("Backup deleted successfully!"),I()}catch{y.error("Failed to delete backup")}},ie=async()=>{if(await y.confirm("Run retention cleanup now? This will delete expired backups based on schedule retention policies.")){m(!0);try{const o=await window.electronAPI.cleanupBackups();y.success(`Cleanup complete. Deleted ${o.deleted} old backup(s).`),I()}catch{y.error("Cleanup failed")}finally{m(!1)}}},Z=o=>{if(!o)return"0 Bytes";const j=1024,A=["Bytes","KB","MB","GB"],B=Math.floor(Math.log(o)/Math.log(j));return Math.round(o/Math.pow(j,B)*100)/100+" "+A[B]},ce=o=>new Date(o).toLocaleString(),le=o=>{const j=k.find(A=>A.id===o);return j?j.name:"Unknown"},de=o=>o?k.some(j=>j.id===o):!1,ue=o=>{try{return Y.toString(o,{use24HourTimeFormat:!1})}catch{return o}},pe=o=>o<=2?{label:"Fast",color:"text-green-400"}:o<=5?{label:"Balanced",color:"text-void-cyan"}:{label:"Maximum",color:"text-void-purple"};return C?e.jsx(Ne,{title:"Backup Services Restricted",description:"Access to backup management and cloud synchronization has been restricted for your account."}):e.jsxs("div",{className:"space-y-12 max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-4xl font-light tracking-tight text-white font-mono uppercase",children:"Server-Specific Backups"}),e.jsx("p",{className:"text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Per-Server Archive / Schedule / Synchronize / Restore / Limits"})]}),e.jsxs("section",{className:"border border-[#1A1A1A] bg-black p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-[#1A1A1A]",children:e.jsxs("h2",{className:"text-xs font-mono tracking-[0.3em] text-[#7C3AED] uppercase flex items-center gap-2",children:[e.jsx($,{className:"w-3.5 h-3.5"}),"Initialization / New Image"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Target Node"}),e.jsx(ye,{value:h,options:[{value:"",label:"Select Target..."},...k.map(o=>({value:String(o.id),label:`${o.name} [${o.type.toUpperCase()}]`}))],onChange:o=>f(String(o||"")),disabled:v,className:"w-full bg-black border-[#1A1A1A] text-white font-mono text-sm"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:["Density Control / Compression: ",pe(r).label.toUpperCase()]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("span",{className:"text-[10px] font-mono text-[#444]",children:"LOW"}),e.jsx("input",{type:"range",min:"0",max:"9",value:r,onChange:o=>t(Number(o.target.value)),className:"flex-1 accent-[#7C3AED] h-1 bg-[#111] appearance-none cursor-pointer"}),e.jsx("span",{className:"text-[10px] font-mono text-[#7C3AED]",children:"MAX"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#1A1A1A]",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:`w-4 h-4 border border-[#333] flex items-center justify-center transition-colors ${a?"bg-[#7C3AED] border-[#7C3AED]":"bg-transparent"}`,children:[e.jsx("input",{type:"checkbox",checked:a,onChange:o=>s(o.target.checked),className:"hidden"}),a&&e.jsx(L,{className:"w-3 h-3 text-white"})]}),e.jsx("span",{className:"text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase group-hover:text-white transition-colors",children:"Delta Synchronization [Incremental]"})]}),e.jsx("button",{onClick:se,disabled:v||!h,className:"px-12 py-3 bg-white text-black hover:bg-[#7C3AED] hover:text-white font-mono text-[10px] tracking-[0.3em] uppercase transition-all disabled:opacity-20 disabled:cursor-not-allowed flex items-center gap-3 border border-white",children:v?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-3.5 h-3.5 animate-spin"})," Process.Run()"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-3.5 h-3.5"})," Initialize Image"]})})]})]}),e.jsxs("section",{className:"border border-[#1A1A1A] bg-black p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-[#1A1A1A]",children:[e.jsxs("h2",{className:"text-xs font-mono tracking-[0.3em] text-white uppercase flex items-center gap-2",children:[e.jsx(ee,{className:"w-3.5 h-3.5"}),"Server-Specific Backup Registry"]}),e.jsxs("button",{onClick:ie,disabled:b,className:"px-4 py-2 text-[10px] font-mono tracking-[0.2em] uppercase border border-[#222] text-[#666] hover:text-white hover:border-white transition-all flex items-center gap-2",children:[b?e.jsx(P,{className:"w-3 h-3 animate-spin"}):e.jsx(U,{className:"w-3 h-3"}),"Auto-Purge Expired"]})]}),E.length===0?e.jsxs("div",{className:"py-24 border border-dashed border-[#1A1A1A] flex flex-col items-center justify-center",children:[e.jsx(J,{className:"w-12 h-12 text-[#1A1A1A] mb-6"}),e.jsx("h3",{className:"text-[10px] font-mono tracking-[0.4em] text-[#444] uppercase mb-4",children:"No Backup Records"}),e.jsx("p",{className:"text-[10px] font-mono tracking-[0.2em] text-[#333] uppercase text-center max-w-xs leading-relaxed",children:"Each server maintains its own backup history. Create backups above to populate this registry."})]}):e.jsx("div",{className:"space-y-8",children:k.map(o=>{const j=E.filter(A=>A.server_id===o.id);return j.length===0?null:e.jsxs("div",{className:"border border-[#1A1A1A] bg-[#050505] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-[#1A1A1A]",children:[e.jsxs("h3",{className:"text-sm font-mono tracking-wider text-white uppercase flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-[#7C3AED]"}),o.name," [",o.type.toUpperCase(),"]",e.jsxs("span",{className:"text-[10px] text-[#666] ml-2",children:[j.length," backup",j.length!==1?"s":""]})]}),e.jsxs("div",{className:"text-[10px] font-mono text-[#666] uppercase",children:["Total Size: ",Z(j.reduce((A,B)=>A+(B.size||0),0))]})]}),e.jsx("div",{className:"divide-y divide-[#1A1A1A]",children:j.map(A=>e.jsxs("div",{className:"flex items-center justify-between py-4 group hover:bg-[#0A0A0A] transition-colors px-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("span",{className:"px-2 py-0.5 border border-[#222] text-[#666] text-[8px] font-mono uppercase",children:Z(A.size)}),A.metadata&&JSON.parse(A.metadata)?.manifest&&e.jsx("span",{className:"px-2 py-0.5 border border-[#7C3AED] text-[#7C3AED] text-[8px] font-mono uppercase",children:"Incremental"})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-mono tracking-wider text-[#444] uppercase",children:[e.jsx(J,{className:"w-3 h-3"})," ",A.filename]}),e.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-mono tracking-wider text-[#444] uppercase",children:[e.jsx(q,{className:"w-3 h-3"})," ",ce(A.created_at)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>re(A.id),className:"px-3 py-1 border border-[#222] text-[#666] hover:text-white hover:border-white text-[9px] font-mono uppercase transition-all",children:e.jsx(xe,{className:"w-2.5 h-2.5"})}),!de(A.server_id)&&e.jsx("button",{onClick:()=>ne(A.id),className:"px-3 py-1 border border-[#7C3AED] text-[#7C3AED] hover:bg-[#7C3AED] hover:text-white text-[9px] font-mono uppercase transition-all",children:e.jsx(fe,{className:"w-2.5 h-2.5"})}),e.jsx("button",{onClick:()=>oe(A.id),className:"px-3 py-1 border border-[#222] text-[#666] hover:border-red-500 hover:text-red-500 text-[9px] font-mono uppercase transition-all",children:e.jsx(U,{className:"w-2.5 h-2.5"})})]})]},A.id))})]},o.id)})})]}),e.jsxs("section",{className:"border border-[#1A1A1A] bg-black p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-[#1A1A1A]",children:e.jsxs("h2",{className:"text-xs font-mono tracking-[0.3em] text-white uppercase flex items-center gap-2",children:[e.jsx(R,{className:"w-3.5 h-3.5"}),"Automation / Scheduler"]})}),e.jsxs("div",{className:"border border-[#1A1A1A] bg-black p-6 mb-8",children:[e.jsx("h4",{className:"text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase mb-6",children:"Define New Task"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Target Node"}),e.jsxs("select",{className:"w-full p-3 bg-black border border-[#1A1A1A] text-white font-mono text-sm",value:c.server_id,onChange:o=>l({...c,server_id:o.target.value}),children:[e.jsx("option",{value:"",children:"Select Target..."}),k.map(o=>e.jsx("option",{value:o.id,children:o.name.toUpperCase()},o.id))]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Retention Period [Days]"}),e.jsx("input",{type:"number",min:"1",className:"w-full p-3 bg-black border border-[#1A1A1A] text-white font-mono text-sm",value:c.retention_days,onChange:o=>l({...c,retention_days:Number(o.target.value)})})]})]}),e.jsxs("div",{className:"mb-6 space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Cron Expression"}),e.jsx(Se,{value:c.cron_expr,onChange:o=>l({...c,cron_expr:o})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-[#1A1A1A]",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsxs("div",{className:`w-4 h-4 border border-[#333] flex items-center justify-center transition-colors ${c.incremental?"bg-[#7C3AED] border-[#7C3AED]":"bg-transparent"}`,children:[e.jsx("input",{type:"checkbox",checked:c.incremental,onChange:o=>l({...c,incremental:o.target.checked}),className:"hidden"}),c.incremental&&e.jsx(L,{className:"w-3 h-3 text-white"})]}),e.jsx("span",{className:"text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase group-hover:text-white transition-colors",children:"Delta Mode"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Compression"}),e.jsx("input",{type:"range",min:"0",max:"9",value:c.compression_level,onChange:o=>l({...c,compression_level:Number(o.target.value)}),className:"w-24 accent-[#7C3AED] h-1 bg-[#111]"}),e.jsx("span",{className:"text-[10px] font-mono text-[#7C3AED]",children:c.compression_level})]})]}),e.jsxs("button",{onClick:D,className:"px-8 py-3 bg-white text-black hover:bg-[#7C3AED] hover:text-white font-mono text-[10px] tracking-[0.3em] uppercase transition-all flex items-center gap-3 border border-white",children:[e.jsx(R,{className:"w-3.5 h-3.5"})," Register Task"]})]})]}),g.length===0?e.jsxs("div",{className:"py-16 border border-dashed border-[#1A1A1A] flex flex-col items-center justify-center",children:[e.jsx(R,{className:"w-10 h-10 text-[#1A1A1A] mb-4"}),e.jsx("p",{className:"text-[10px] font-mono tracking-[0.3em] text-[#444] uppercase",children:"No Active Tasks"})]}):e.jsx("div",{className:"divide-y divide-[#1A1A1A]",children:g.map(o=>e.jsxs("div",{className:`flex items-center justify-between py-6 px-2 hover:bg-[#050505] transition-colors ${o.enabled?"":"opacity-40"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("span",{className:"text-sm font-mono tracking-wider text-white",children:le(o.server_id).toUpperCase()}),!o.last_success&&o.last_error&&e.jsxs("span",{className:"px-2 py-0.5 border border-red-500 text-red-500 text-[8px] font-mono uppercase flex items-center gap-1",title:o.last_error,children:[e.jsx(z,{className:"w-3 h-3"})," Error"]})]}),e.jsxs("div",{className:"flex items-center gap-8 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-mono tracking-wider text-[#444] uppercase",children:[e.jsx(Q,{className:"w-3 h-3"})," ",ue(o.cron_expr)]}),o.next_run&&e.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-mono tracking-wider text-[#444] uppercase",children:[e.jsx(q,{className:"w-3 h-3"})," Next: ",new Date(o.next_run).toLocaleString()]}),e.jsxs("span",{className:"text-[10px] font-mono text-[#444] uppercase",children:["Retention: ",o.retention_days,"d"]}),e.jsx("span",{className:"text-[10px] font-mono text-[#444] uppercase",children:o.incremental?"Delta":"Full"}),e.jsxs("span",{className:"text-[10px] font-mono text-[#444] uppercase",children:["Compression: ",o.compression_level]})]}),o.last_error&&e.jsxs("div",{className:"text-[10px] font-mono text-red-500 mt-2 truncate max-w-md",title:o.last_error,children:["Error: ",o.last_error]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>M(o.id,o.enabled),className:`px-4 py-2 border text-[10px] font-mono uppercase transition-all flex items-center gap-2 ${o.enabled?"border-[#7C3AED] text-[#7C3AED] hover:bg-[#7C3AED] hover:text-white":"border-[#222] text-[#666] hover:text-white hover:border-white"}`,children:[o.enabled?e.jsx(L,{className:"w-3 h-3"}):e.jsx(te,{className:"w-3 h-3"}),o.enabled?"Active":"Inactive"]}),e.jsxs("button",{onClick:()=>F(o.id),className:"px-4 py-2 border border-[#222] text-[#666] hover:text-white hover:border-white text-[10px] font-mono uppercase transition-all flex items-center gap-2",children:[e.jsx(ve,{className:"w-3 h-3"})," Execute"]}),e.jsx("button",{onClick:()=>X(o.id),className:"px-4 py-2 border border-[#222] text-[#666] hover:border-red-500 hover:text-red-500 text-[10px] font-mono uppercase transition-all",children:e.jsx(U,{className:"w-3 h-3"})})]})]},o.id))})]}),e.jsxs("section",{className:"border border-[#1A1A1A] bg-black p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-[#1A1A1A]",children:e.jsxs("h2",{className:"text-xs font-mono tracking-[0.3em] text-white uppercase flex items-center gap-2",children:[e.jsx(ge,{className:"w-3.5 h-3.5"}),"Backup Settings & Size Limits"]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border border-[#1A1A1A] bg-[#050505] p-6",children:[e.jsxs("h3",{className:"text-sm font-mono tracking-wider text-white uppercase mb-4 flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-[#7C3AED]"}),"Global Backup Policies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Default Retention Period [Days]"}),e.jsx("input",{type:"number",min:"1",max:"365",className:"w-full p-3 bg-black border border-[#1A1A1A] text-white font-mono text-sm",placeholder:"30",defaultValue:"30"}),e.jsx("p",{className:"text-[9px] font-mono text-[#444] uppercase",children:"Auto-delete backups older than this period"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-[10px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Maximum Total Backup Size [GB]"}),e.jsx("input",{type:"number",min:"1",max:"1000",className:"w-full p-3 bg-black border border-[#1A1A1A] text-white font-mono text-sm",placeholder:"100",defaultValue:"100"}),e.jsx("p",{className:"text-[9px] font-mono text-[#444] uppercase",children:"Delete oldest backups when exceeding this limit"})]})]}),e.jsx("div",{className:"flex items-center justify-end pt-6 border-t border-[#1A1A1A] mt-6",children:e.jsx("button",{className:"px-8 py-3 bg-white text-black hover:bg-[#7C3AED] hover:text-white font-mono text-[10px] tracking-[0.3em] uppercase transition-all border border-white",children:"Save Global Settings"})})]}),e.jsxs("div",{className:"border border-[#1A1A1A] bg-[#050505] p-6",children:[e.jsxs("h3",{className:"text-sm font-mono tracking-wider text-white uppercase mb-4 flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-[#7C3AED]"}),"Per-Server Backup Limits"]}),e.jsx("div",{className:"space-y-4",children:k.map(o=>e.jsxs("div",{className:"border border-[#1A1A1A] bg-black p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-sm font-mono tracking-wider text-white uppercase",children:[o.name," [",o.type.toUpperCase(),"]"]}),e.jsxs("div",{className:"text-[10px] font-mono text-[#666] uppercase",children:["Current: ",E.filter(j=>j.server_id===o.id).length," backups"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[9px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Max Backups"}),e.jsx("input",{type:"number",min:"1",max:"50",className:"w-full p-2 bg-[#111] border border-[#222] text-white font-mono text-xs",placeholder:"10",defaultValue:"10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[9px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Max Size Per Backup [MB]"}),e.jsx("input",{type:"number",min:"10",max:"10000",className:"w-full p-2 bg-[#111] border border-[#222] text-white font-mono text-xs",placeholder:"500",defaultValue:"500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-[9px] font-mono tracking-[0.2em] text-[#666] uppercase",children:"Total Size Limit [GB]"}),e.jsx("input",{type:"number",min:"1",max:"100",className:"w-full p-2 bg-[#111] border border-[#222] text-white font-mono text-xs",placeholder:"5",defaultValue:"5"})]})]})]},o.id))}),e.jsx("div",{className:"flex items-center justify-end pt-6 border-t border-[#1A1A1A] mt-6",children:e.jsx("button",{className:"px-8 py-3 bg-white text-black hover:bg-[#7C3AED] hover:text-white font-mono text-[10px] tracking-[0.3em] uppercase transition-all border border-white",children:"Save Server Limits"})})]})]})]}),e.jsx(Oe,{isOpen:i,onClose:()=>d(!1),backupId:p,onRestore:ae})]})};export{Me as default};
