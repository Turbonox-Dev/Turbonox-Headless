const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dashboard-DI35x8qC.js","./markdown-Bat84yML.js","./react-vendor-N--QU9DW.js","./lucide-Bfyd0ICn.js","./ServerManager-DbjjFXMo.js","./VoidDropdown-C1MOWfVa.js","./xterm-B1V9QH9F.js","./xterm-DXOU9pbP.css","./RestrictedView-Cn5sOcE9.js","./NodeManager-CWxJNtEA.js","./NetworkController-Dg3AFcga.js","./Backups-tKkKpvrY.js","./Settings-BhwQinD7.js","./Modal-CuQkZSTM.js","./Accounts-CGgaZ6QG.js","./Addons-B6RRT0Hu.js","./AiHosting-Dd7TJRXd.js","./SupportSystem-vLLUPv8i.js","./AdminPanel-BvUOLNHP.js","./UserManagement-NSd72C7G.js"])))=>i.map(i=>d[i]);
import{j as e}from"./markdown-Bat84yML.js";import{r,H as Z,M as ee,a as te,S as se,X as J,C as O,b as oe,L as ne,c as re,B as ie,N as ae,G as le,d as ce,U as de,e as ue,f as me,g as R,P as he,h as B,i as q,j as pe,k as fe,l as xe,I as ge,m as be,T as ve,n as we,R as ye}from"./lucide-Bfyd0ICn.js";import{a as je,g as Ne}from"./react-vendor-N--QU9DW.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const t of c)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const t={};return c.integrity&&(t.integrity=c.integrity),c.referrerPolicy&&(t.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?t.credentials="include":c.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(c){if(c.ep)return;c.ep=!0;const t=n(c);fetch(c.href,t)}})();var D={},M;function ke(){if(M)return D;M=1;var i=je();return D.createRoot=i.createRoot,D.hydrateRoot=i.hydrateRoot,D}var Se=ke();const Ae=Ne(Se),Ee="modulepreload",Ce=function(i,s){return new URL(i,s).href},U={},E=function(s,n,o){let c=Promise.resolve();if(n&&n.length>0){let f=function(m){return Promise.all(m.map(h=>Promise.resolve(h).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");c=f(n.map(m=>{if(m=Ce(m,o),m in U)return;U[m]=!0;const h=m.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(o)for(let g=l.length-1;g>=0;g--){const b=l[g];if(b.href===m&&(!h||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${x}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Ee,h||(p.as="script"),p.crossOrigin="",p.href=m,d&&p.setAttribute("nonce",d),document.head.appendChild(p),h)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function t(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return c.then(l=>{for(const u of l||[])u.status==="rejected"&&t(u.reason);return s().catch(t)})},G=r.createContext(null),W="theme";function Pe(){return typeof window>"u"||typeof window.matchMedia!="function"?"dark":window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}function H(i){return i==="light"||i==="dark"?i:Pe()}function Ie({children:i}){const[s,n]=r.useState("dark"),[o,c]=r.useState(()=>H("dark")),t=r.useCallback(d=>{const f=H(d);n(d),c(f),typeof document<"u"&&(document.documentElement.setAttribute("data-theme",f),f==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[]);r.useEffect(()=>{let d=!1;return(async()=>{try{const h=(await window.electronAPI.getSettings())?.[W]||"dark";if(d)return;t(h)}catch{if(d)return;t("dark")}})(),()=>{d=!0}},[t]),r.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const d=window.matchMedia("(prefers-color-scheme: light)"),f=()=>{s==="system"&&t("dark")};return typeof d.addEventListener=="function"?(d.addEventListener("change",f),()=>d.removeEventListener("change",f)):(d.addListener(f),()=>d.removeListener(f))},[t,s]);const l=r.useCallback(async d=>{t(d);try{await window.electronAPI.updateSettings({[W]:String(d)})}catch(f){throw t(s),f}},[t,s]),u=r.useMemo(()=>({themeSetting:s,resolvedTheme:o,setTheme:l}),[s,o,l]);return e.jsx(G.Provider,{value:u,children:i})}function ze(){const i=r.useContext(G);if(!i)throw new Error("useTheme must be used within ThemeProvider");return i}const Te=""+new URL("icon-light-B-yFD_x7.png",import.meta.url).href,$e=""+new URL("icon-T1aE8gdI.png",import.meta.url).href;class _e{constructor(){this.sidebarItems=[],this.dashboardTiles=[],this.branding={appName:"Turbonox"},this.globalStyles=[],this.plugins=[],this.hooks={},this.listeners=new Set,this.initialized=!1}async initialize(){if(!this.initialized)try{const s=await window.electronAPI.addonGetUIContributions();s&&(this.sidebarItems=s.sidebar||[],this.dashboardTiles=s.dashboardTiles||[],this.branding=s.branding||{appName:"Turbonox"},this.globalStyles=s.globalStyles||[],this.plugins=s.plugins||[],this.hooks=s.hooks||{},this.applyGlobalStyles(),this.plugins.forEach(n=>this.applyPlugin(n))),window.electronAPI.onAddonUIContribution(n=>{n.type==="ui:new-sidebar-item"?this.sidebarItems.push(n.item):n.type==="ui:new-dashboard-tile"?this.dashboardTiles.push(n.tile):n.type==="ui:branding-update"?this.branding=n.branding:n.type==="ui:new-global-style"?(this.globalStyles.push(n.style),this.applyGlobalStyles()):n.type==="ui:new-hook"?(this.hooks[n.hookName]||(this.hooks[n.hookName]=[]),this.hooks[n.hookName].push(n.hook)):n.type==="ui:new-plugin"&&(this.plugins.push(n.plugin),this.applyPlugin(n.plugin)),this.notify()}),this.initialized=!0,this.notify()}catch(s){console.error("[AddonUIService] Failed to initialize:",s)}}applyGlobalStyles(){let s=document.getElementById("addon-styles");s||(s=document.createElement("style"),s.id="addon-styles",document.head.appendChild(s)),s.textContent=this.globalStyles.map(n=>`/* From Addon: ${n.addonId} */
${n.css}`).join(`

`)}applyPlugin(s){if(!s.path)return;const n=`turbonox-addon://${s.addonId}${s.path}`;if(document.querySelector(`script[src="${n}"]`))return;const o=document.createElement("script");o.src=n,o.async=!0,document.head.appendChild(o)}getBranding(){return this.branding}getHooks(s){return this.hooks[s]||[]}getSidebarItems(){return this.sidebarItems}getDashboardTiles(){return this.dashboardTiles}subscribe(s){return this.listeners.add(s),()=>this.listeners.delete(s)}notify(){this.listeners.forEach(s=>s())}}const w=new _e,De=({currentView:i})=>{const{resolvedTheme:s}=ze(),[n,o]=r.useState(!1),c=typeof window<"u"&&window.electronAPI,t=r.useCallback(()=>{window.electronAPI?.minimizeWindow?.()},[]),l=r.useCallback(()=>{window.electronAPI?.maximizeWindow?.()},[]),u=r.useCallback(()=>{window.electronAPI?.closeWindow?.()},[]),[d,f]=r.useState(w.getBranding()),[m,h]=r.useState(w.getHooks("titlebar-right"));r.useEffect(()=>{const g=()=>{f(w.getBranding()),h(w.getHooks("titlebar-right"))},b=()=>o(!0),P=()=>o(!1);return window.electronAPI?.onMaximized&&(window.electronAPI.onMaximized(b),window.electronAPI.onUnmaximized(P)),w.subscribe(g)},[]);const x=d.logoUrl||(s==="light"?Te:$e),p=d.appName||"Turbonox";return e.jsxs("div",{className:"h-11 w-full flex items-center justify-between px-4 border-b border-white/[0.03] bg-void-bg/40 backdrop-blur-xl select-none z-[100]",style:{WebkitAppRegion:"drag"},onDoubleClick:l,children:[e.jsx("div",{className:"flex items-center gap-3 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-md rounded-full opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("img",{src:x,alt:p,className:"relative w-5 h-5 flex-shrink-0 transition-transform group-hover:scale-110",draggable:"false"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-void-text/90 tracking-tight leading-none uppercase",children:p}),i!=="dashboard"&&e.jsx("span",{className:"text-[10px] text-void-muted/60 font-medium leading-none mt-0.5 capitalize",children:i.replace("addon:","")})]})]})}),e.jsx("div",{className:"flex-1 flex justify-center items-center h-full px-8 pointer-events-none",children:e.jsx("div",{className:"h-1.5 w-32 bg-white/[0.02] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-primary/40 to-primary/10 rounded-full"})})}),e.jsxs("div",{className:"flex items-center h-full",style:{WebkitAppRegion:"no-drag"},children:[m.map((g,b)=>e.jsx("iframe",{src:`turbonox-addon://${g.addonId}${g.path}`,className:"w-8 h-8 border-none overflow-hidden mr-1 opacity-70 hover:opacity-100 transition-opacity",scrolling:"no"},`${g.addonId}-${b}`)),e.jsxs("div",{className:"flex items-center h-full ml-2",children:[e.jsxs("button",{onClick:()=>window.dispatchEvent(new CustomEvent("void-toggle-support")),className:"h-11 px-3 inline-flex items-center gap-2 text-void-muted/60 hover:text-void-purple hover:bg-void-purple/10 transition-all mr-1",title:"Support Center",children:[e.jsx(Z,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider hidden sm:inline",children:"Support"})]}),c&&!window.electronAPI?.config?.isWeb&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t,className:"h-11 w-11 inline-flex items-center justify-center text-void-muted/60 hover:text-void-text hover:bg-white/[0.05] transition-all","aria-label":"Minimize",children:e.jsx(ee,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:l,className:"h-11 w-11 inline-flex items-center justify-center text-void-muted/60 hover:text-void-text hover:bg-white/[0.05] transition-all","aria-label":n?"Restore":"Maximize",children:n?e.jsx(te,{className:"w-3.5 h-3.5"}):e.jsx(se,{className:"w-3.5 h-3.5"})}),e.jsx("button",{onClick:u,className:"h-11 w-11 inline-flex items-center justify-center text-void-muted/60 hover:text-white hover:bg-red-500/80 transition-all","aria-label":"Close",children:e.jsx(J,{className:"w-4 h-4"})})]})]})]})]})},Le=()=>{const[i,s]=r.useState(null),[n,o]=r.useState(!1);if(r.useEffect(()=>{let h=!1;const x=async()=>{try{const g=window.electronAPI;if(!g?.getAnnouncement)return;const b=await g.getAnnouncement();if(h)return;if(b&&b.enabled){if(localStorage.getItem("dismissed_announcement_id")===b.id)return;s(b)}else s(null)}catch(g){console.error("Failed to load announcement",g)}};x();const p=setInterval(x,6e4);return()=>{h=!0,clearInterval(p)}},[]),!i||n)return null;const c=()=>{o(!0),i.id&&localStorage.setItem("dismissed_announcement_id",i.id)},t=()=>{i.action?.url&&(i.action.openExternal,window.electronAPI?.openExternal?.(i.action.url))},l=i.styles?.backgroundColor||"#ffffff",u=i.styles?.textColor||"#000000",d=i.styles?.highlightColor||"#000000",f=i.animation==="slide"?"animate-slide-down":i.animation==="pulse"?"animate-pulse":i.animation==="none"?"":"animate-fade-in",m=i.width==="contained"?"max-w-4xl mx-auto rounded-b-lg":i.width==="compact"?"max-w-md mx-auto mt-4 rounded-full shadow-lg":"w-full";return e.jsx("div",{className:`relative z-50 transition-all duration-300 ease-out ${f}`,children:e.jsxs("div",{className:`relative ${m} overflow-hidden`,style:{backgroundColor:l,color:u},children:[e.jsxs("div",{className:"flex items-center justify-center p-2 text-sm font-medium tracking-wide",children:[e.jsx("span",{className:"opacity-90",children:i.text}),i.action?.enabled!==!1&&i.action?.label&&e.jsx("button",{onClick:t,className:"ml-3 font-bold hover:underline opacity-100",style:{color:d},children:i.action.label})]}),i.dismissible&&e.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full opacity-60 hover:opacity-100 transition-opacity",style:{color:u},"aria-label":"Dismiss",children:e.jsx(J,{size:16})})]})})},Oe=({currentView:i,setCurrentView:s,collapsed:n=!1,onToggleCollapsed:o,onPrefetch:c,currentUser:t,onLogout:l})=>{const[u,d]=r.useState([]),[f,m]=r.useState(w.getBranding()),[h,x]=r.useState([]),[p,g]=r.useState("local"),[b,P]=r.useState(!1),A=t?.role==="admin",I=[{id:"dashboard",label:"Dashboard",icon:ne},{id:"servers",label:"Servers",icon:re},{id:"aiHosting",label:"AI Center",icon:ie,adminOnly:!0},{id:"nodes",label:"Nodes",icon:ae,adminOnly:!0},{id:"network",label:"Network",icon:le},{id:"backups",label:"Backups",icon:ce},{id:"users",label:"Users",icon:de,adminOnly:!0},{id:"settings",label:"Settings",icon:ue}];r.useEffect(()=>{w.initialize();const a=w.subscribe(()=>{d(w.getSidebarItems()),m(w.getBranding())});return d(w.getSidebarItems()),m(w.getBranding()),z(),()=>a()},[]),r.useEffect(()=>{(i==="dashboard"||i==="nodes")&&z()},[i]);const z=async()=>{try{if(window.electronAPI?.getNodes){const a=await window.electronAPI.getNodes();x(Array.isArray(a)?a:[])}else{const a=localStorage.getItem("turbonox_token"),v=await fetch("/api/nodes",{headers:{Authorization:`Bearer ${a}`}}).then(N=>N.json());x(Array.isArray(v)?v:[])}if(window.electronAPI?.getSettings){const a=await window.electronAPI.getSettings();g(a.activeNodeId||"local")}else{const a=localStorage.getItem("turbonox_token"),N=await(await fetch("/api/settings",{headers:{Authorization:`Bearer ${a}`}})).json();g(N.activeNodeId||"local")}}catch(a){console.error("Failed to load nodes:",a)}},j=r.useMemo(()=>p==="local"?{name:"This Device",id:"local"}:h.find(a=>String(a.id)===String(p))||{name:"Unknown Node",id:p},[h,p]),C=a=>a.icon&&R[a.icon]?R[a.icon]:a.icon_type==="emoji"?null:he,T=async a=>{try{if(window.electronAPI?.setActiveNode)await window.electronAPI.setActiveNode(a);else{const v=localStorage.getItem("turbonox_token");await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({key:"activeNodeId",value:a})})}g(a),P(!1),window.dispatchEvent(new CustomEvent("void-active-node-changed",{detail:{nodeId:a}}))}catch(v){console.error("Failed to switch node:",v)}};return e.jsxs("aside",{className:`relative flex flex-col transition-all duration-300 ease-in-out bg-[#060608] border-r border-white/[0.06] ${n?"w-20":"w-72"}`,children:[e.jsxs("div",{className:`flex items-center h-16 ${n?"justify-center":"justify-between px-6"}`,children:[!n&&e.jsx("span",{className:"text-lg font-medium tracking-tight text-white",children:f.appName||"Turbonox"}),e.jsx("button",{onClick:o,"aria-label":n?"Expand sidebar":"Collapse sidebar",className:"p-1.5 rounded-lg text-zinc-400 hover:text-white hover:bg-white/[0.05] transition-colors",children:n?e.jsx(O,{size:18,strokeWidth:1.5}):e.jsx(oe,{size:18,strokeWidth:1.5})})]}),h.length>0&&!n&&e.jsx("div",{className:"px-4 mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>P(!b),className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.03] border border-white/[0.06] hover:border-[#7C3AED]/30 transition-all text-left group",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${p==="local"?"bg-zinc-500":"bg-[#7C3AED]"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-wider font-bold text-zinc-500 leading-none mb-1",children:"Context"}),e.jsx("p",{className:"text-xs font-medium text-white truncate",children:j.name})]}),e.jsx(O,{size:14,className:`text-zinc-500 transition-transform duration-200 ${b?"rotate-90":""}`})]}),b&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-1 bg-[#0A0A0C] border border-white/[0.08] rounded-xl shadow-2xl z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsxs("button",{onClick:()=>T("local"),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${p==="local"?"bg-[#7C3AED]/10 text-white":"text-zinc-400 hover:text-white hover:bg-white/[0.05]"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${p==="local"?"bg-[#7C3AED]":"bg-zinc-600"}`}),e.jsx("span",{children:"This Device"})]}),h.length>0&&e.jsx("div",{className:"mt-1 pt-1 border-t border-white/[0.06]",children:h.map(a=>e.jsxs("button",{onClick:()=>T(a.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${String(p)===String(a.id)?"bg-[#7C3AED]/10 text-white":"text-zinc-400 hover:text-white hover:bg-white/[0.05]"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${String(p)===String(a.id)?"bg-[#7C3AED]":"bg-zinc-600"}`}),e.jsx("span",{className:"truncate",children:a.name})]},a.id))})]})]})}),e.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overflow-x-hidden no-scrollbar",children:[I.filter(a=>!a.adminOnly||A).map(a=>{const v=a.icon,N=i===a.id;return e.jsxs("button",{onClick:()=>s(a.id),onMouseEnter:()=>!N&&c?.(a.id),className:`group w-full relative flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-300 outline-none ${N?"bg-white/[0.06]":"hover:bg-white/[0.03]"} ${n?"justify-center":""}`,children:[e.jsx(v,{size:20,className:`${N?"text-white":"text-zinc-500 group-hover:text-zinc-300"}`,strokeWidth:1.5}),!n&&e.jsx("span",{className:`text-sm font-medium ${N?"text-white":"text-zinc-400 group-hover:text-zinc-200"}`,children:a.label}),n&&e.jsx("div",{role:"tooltip","aria-hidden":"true",className:"absolute left-full ml-3 px-3 py-1.5 bg-[#1A1A1A] border border-white/[0.1] rounded-md text-xs text-white opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-all duration-200 transform -translate-y-0.5",children:a.label})]},a.id)}),u.length>0&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-white/[0.06]",children:[!n&&e.jsx("div",{className:"px-3 mb-2 text-[10px] uppercase tracking-widest font-bold text-zinc-600",children:"Extensions"}),u.map(a=>{const v=C(a),N=`addon:${a.addonId}:${a.id}`,$=i===N;return e.jsxs("button",{onClick:()=>s(N),className:`group w-full relative flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-300 outline-none ${$?"bg-white/[0.06]":"hover:bg-white/[0.03]"} ${n?"justify-center":""}`,children:[v?e.jsx(v,{size:20,className:`${$?"text-white":"text-zinc-500 group-hover:text-zinc-300"}`,strokeWidth:1.5}):e.jsx("span",{className:"text-lg w-5 h-5 flex items-center justify-center",children:a.icon||"ðŸ§©"}),!n&&e.jsx("span",{className:`text-sm font-medium truncate ${$?"text-white":"text-zinc-400 group-hover:text-zinc-200"}`,children:a.label}),n&&e.jsx("div",{role:"tooltip","aria-hidden":"true",className:"absolute left-full ml-3 px-3 py-1.5 bg-[#1A1A1A] border border-white/[0.1] rounded-md text-xs text-white opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-all duration-200 transform -translate-y-0.5",children:a.label})]},N)})]})]}),e.jsx("div",{className:"p-3 mt-auto border-t border-white/[0.06] bg-[#0A0A0C]",children:e.jsxs("div",{className:`flex ${n?"flex-col items-center gap-3":"items-center justify-between"}`,children:[e.jsxs("button",{onClick:()=>s("accounts"),className:`flex items-center gap-3 hover:bg-white/[0.05] p-2 rounded-lg transition-colors text-left flex-1 min-w-0 ${i==="accounts"?"bg-white/[0.05]":""} ${n?"justify-center w-full":""}`,children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-[#7C3AED]/20 border border-[#7C3AED]/30 flex items-center justify-center text-[#7C3AED] font-medium text-sm shrink-0",children:(t?.name?.[0]||t?.email?.[0]||"U").toUpperCase()}),!n&&e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate",children:t?.name||"User"}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:t?.email})]})]}),e.jsx("button",{onClick:l,title:"Sign out",className:"p-2 rounded-lg text-zinc-500 hover:text-red-400 hover:bg-red-500/10 transition-colors shrink-0 ",children:e.jsx(me,{size:18,strokeWidth:1.5})})]})})]})},F=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full min-h-[400px]",children:[e.jsxs("div",{className:"loader mb-8",children:[e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"dot"}),e.jsx("div",{className:"outline"})]}),e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"dot"}),e.jsx("div",{className:"outline"})]}),e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"dot"}),e.jsx("div",{className:"outline"})]}),e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"dot"}),e.jsx("div",{className:"outline"})]})]}),e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h3",{className:"text-void-text font-semibold tracking-wider text-sm animate-pulse",children:"INITIALIZING MODULE"}),e.jsx("p",{className:"text-void-muted text-xs font-mono opacity-60",children:"Loading resources..."})]})]}),Re=({onLoginSuccess:i})=>{const[s,n]=r.useState("loading"),[o,c]=r.useState("login"),[t,l]=r.useState(""),[u,d]=r.useState(""),[f,m]=r.useState(""),[h,x]=r.useState(!1),[p,g]=r.useState("");r.useEffect(()=>{b()},[]);const b=async()=>{try{const j=localStorage.getItem("turbonox_token");if(j){const a=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${j}`}});if(a.ok){const v=await a.json();if(v.ok){i(v.user,j);return}}localStorage.removeItem("turbonox_token")}const T=await(await fetch("/api/auth/status")).json();n(T.needsSetup?"setup":"auth")}catch(j){console.error("[LOGIN] Status check failed:",j),n("auth")}},P=async j=>{j.preventDefault(),g(""),x(!0);try{let C="/api/auth/login";s==="setup"?C="/api/auth/setup":o==="register"&&(C="/api/auth/register");const a=await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s==="setup"||o==="register"?{email:t,password:u,name:f}:{email:t,password:u})}),v=await a.json();if(!a.ok)throw new Error(v.error||"Authentication failed");localStorage.setItem("turbonox_token",v.token),i(v.user,v.token)}catch(C){g(C.message)}finally{x(!1)}};if(s==="loading")return e.jsx("div",{className:"min-h-screen bg-[#000000] flex items-center justify-center",children:e.jsx(B,{className:"w-8 h-8 text-white/40 animate-spin"})});const A=s==="setup",I=o==="register",z=A||I;return e.jsx("div",{className:"min-h-screen bg-[#000000] flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-[400px]",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-14 h-14 mx-auto mb-6 rounded-xl bg-white/[0.03] border border-white/[0.06] flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 rounded-md bg-[#7C3AED]"})}),e.jsx("h1",{className:"text-2xl font-medium text-white tracking-tight mb-2",children:A?"Setup Admin Account":I?"Create Account":"Sign In"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:A?"Create the administrator account for your panel":I?"Enter your details to get started":"Welcome back to Turbonox"})]}),!A&&e.jsxs("div",{className:"grid grid-cols-2 gap-1 p-1 bg-white/[0.03] border border-white/[0.06] rounded-xl mb-6",children:[e.jsx("button",{onClick:()=>{c("login"),g("")},className:`py-2 text-sm font-medium rounded-lg transition-all ${o==="login"?"bg-[#1A1A1A] text-white shadow-sm border border-white/[0.08]":"text-zinc-500 hover:text-zinc-300"}`,children:"Sign In"}),e.jsx("button",{onClick:()=>{c("register"),g("")},className:`py-2 text-sm font-medium rounded-lg transition-all ${o==="register"?"bg-[#1A1A1A] text-white shadow-sm border border-white/[0.08]":"text-zinc-500 hover:text-zinc-300"}`,children:"Create Account"})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p&&e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-red-500/10 border border-red-500/20",children:[e.jsx(q,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-300",children:p})]}),z&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx("input",{type:"text",value:f,onChange:j=>m(j.target.value),placeholder:A?"Administrator":"John Doe",className:"w-full pl-10 pr-4 py-3 bg-white/[0.03] border border-white/[0.06] rounded-xl text-white placeholder:text-zinc-600 outline-none focus:border-[#7C3AED]/50 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx("input",{type:"email",value:t,onChange:j=>l(j.target.value),placeholder:"user@example.com",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white/[0.03] border border-white/[0.06] rounded-xl text-white placeholder:text-zinc-600 outline-none focus:border-[#7C3AED]/50 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),e.jsx("input",{type:"password",value:u,onChange:j=>d(j.target.value),placeholder:z?"Min. 8 characters":"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0,minLength:z?8:void 0,className:"w-full pl-10 pr-4 py-3 bg-white/[0.03] border border-white/[0.06] rounded-xl text-white placeholder:text-zinc-600 outline-none focus:border-[#7C3AED]/50 transition-colors"})]})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full mt-6 py-3 bg-[#7C3AED] hover:bg-[#6D28D9] disabled:bg-zinc-800 disabled:text-zinc-500 text-white font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsx("span",{children:A?"Create Admin Account":I?"Create Account":"Sign In"})})]}),e.jsx("p",{className:"text-center text-zinc-600 text-xs mt-8",children:"Turbonox Web Panel"})]})})};class Be{constructor(){this.loadedModules=new Set,this.prefetchQueue=new Set}prefetch(s,n){this.loadedModules.has(s)||this.prefetchQueue.has(s)||(console.log(`[ResourceManager] Smart-prefetching: ${s}`),this.prefetchQueue.add(s),n().then(()=>{this.loadedModules.add(s),this.prefetchQueue.delete(s),console.log(`[ResourceManager] Ready: ${s}`)}).catch(o=>{this.prefetchQueue.delete(s),console.error(`[ResourceManager] Prefetch failed for ${s}:`,o)}))}isLoaded(s){return this.loadedModules.has(s)}}const Me=new Be,Ue=(i,s=3e3,n=[])=>{const o=r.useRef(i),c=r.useRef(null);r.useEffect(()=>{o.current=i},[i]),r.useEffect(()=>{const t=async()=>{if(document.visibilityState==="visible")try{await o.current()}catch(u){console.error("[SmartPolling] Error in callback:",u)}};t(),c.current=setInterval(t,s);const l=()=>{document.visibilityState==="visible"&&t()};return window.addEventListener("visibilitychange",l),()=>{c.current&&clearInterval(c.current),window.removeEventListener("visibilitychange",l)}},[s,...n])},We=({addonId:i,itemId:s,items:n=[]})=>{const o=r.useRef(null),t=n.find(u=>u.id===s&&u.addonId===i)?.path||"/ui/index.html",l=`turbonox-addon://${i}${t.startsWith("/")?"":"/"}${t}`;return r.useEffect(()=>{const u=d=>{d.origin,`${i}`};return window.addEventListener("message",u),()=>window.removeEventListener("message",u)},[i]),e.jsxs("div",{className:"flex flex-col h-full bg-void-bg",children:[e.jsx("div",{className:"flex-1 rounded-xl border border-void-border/30 bg-void-panel overflow-hidden relative shadow-2xl",children:e.jsx("iframe",{ref:o,src:l,className:"w-full h-full border-none",title:`Addon: ${i}`,sandbox:"allow-scripts allow-forms allow-popups allow-modals allow-downloads"})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsxs("span",{className:"text-[10px] text-void-muted font-mono uppercase tracking-widest",children:["Addon Active: ",i]})]}),e.jsx("div",{className:"text-[10px] text-void-muted/40 font-mono",children:"SANDBOXED ENVIRONMENT"})]})]})},S={dashboard:()=>E(()=>import("./Dashboard-DI35x8qC.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),servers:()=>E(()=>import("./ServerManager-DbjjFXMo.js"),__vite__mapDeps([4,1,2,3,5,6,7,8]),import.meta.url),nodes:()=>E(()=>import("./NodeManager-CWxJNtEA.js"),__vite__mapDeps([9,1,2,3,6,7,8]),import.meta.url),network:()=>E(()=>import("./NetworkController-Dg3AFcga.js"),__vite__mapDeps([10,1,2,3,5,8]),import.meta.url),backups:()=>E(()=>import("./Backups-tKkKpvrY.js"),__vite__mapDeps([11,1,2,3,5,8]),import.meta.url),settings:()=>E(()=>import("./Settings-BhwQinD7.js"),__vite__mapDeps([12,1,2,3,5,13]),import.meta.url),accounts:()=>E(()=>import("./Accounts-CGgaZ6QG.js"),__vite__mapDeps([14,1,2,3]),import.meta.url),addons:()=>E(()=>import("./Addons-B6RRT0Hu.js"),__vite__mapDeps([15,1,2,3,13]),import.meta.url),aiHosting:()=>E(()=>import("./AiHosting-Dd7TJRXd.js"),__vite__mapDeps([16,1,2,3,8]),import.meta.url),support:()=>E(()=>import("./SupportSystem-vLLUPv8i.js"),__vite__mapDeps([17,1,2,3]),import.meta.url),admin:()=>E(()=>import("./AdminPanel-BvUOLNHP.js"),__vite__mapDeps([18,1,2,3]),import.meta.url),users:()=>E(()=>import("./UserManagement-NSd72C7G.js"),__vite__mapDeps([19,1,2,3,13]),import.meta.url)},V=r.lazy(S.dashboard),He=r.lazy(S.servers),Fe=r.lazy(S.nodes),Ve=r.lazy(S.network),Je=r.lazy(S.backups),qe=r.lazy(S.settings),Ge=r.lazy(S.accounts),Qe=r.lazy(S.addons),Ke=r.lazy(S.aiHosting),Xe=r.lazy(S.support),Ye=r.lazy(S.admin),Ze=r.lazy(S.users);function et(){const[i,s]=r.useState(!1),[n,o]=r.useState(null),[c,t]=r.useState(null),[l,u]=r.useState(!0),[d,f]=r.useState("dashboard"),[m,h]=r.useState(null),[x,p]=r.useState(!1),g=r.useRef(null),[b,P]=r.useState([]),[A,I]=r.useState(w.getBranding()),[z,j]=r.useState([]),[C,T]=r.useState("local"),[a,v]=r.useState({supported:!0,ready:!0,message:""});r.useEffect(()=>{(async()=>{try{const y=localStorage.getItem("turbonox_token");if(!y){u(!1);return}const _=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${y}`}});if(_.ok){const L=await _.json();L.ok&&(t(y),o(L.user),s(!0))}else localStorage.removeItem("turbonox_token")}catch(y){console.error("[AUTH] Verification failed:",y)}finally{u(!1)}})()},[]);const N=(k,y)=>{o(k),t(y),s(!0),f("dashboard")},$=()=>{localStorage.removeItem("turbonox_token"),t(null),o(null),s(!1),f("dashboard")};Ue(async()=>{if(i)try{const k=await fetch("/api/system/stats",{headers:c?{Authorization:`Bearer ${c}`}:{}});if(k.ok){const y=await k.json();h(y)}}catch(k){console.error("Failed to fetch system stats:",k)}},3e3),r.useEffect(()=>{if(!i)return;(async()=>{try{const y=await fetch("/api/settings",{headers:c?{Authorization:`Bearer ${c}`}:{}});if(y.ok){const _=await y.json();T(_?.activeNodeId||"local")}}catch(y){console.error("Failed to fetch active node:",y)}})()},[i,c]),r.useEffect(()=>{w.initialize();const k=w.subscribe(()=>{P(w.getSidebarItems()),I(w.getBranding()),j(w.getHooks("shell"))});P(w.getSidebarItems()),I(w.getBranding()),j(w.getHooks("shell"));try{typeof window<"u"&&window.innerWidth&&window.innerWidth<768&&p(!0)}catch{}return()=>k()},[]),r.useEffect(()=>{A.appName&&(document.title=A.appName)},[A]);const K=r.useCallback(k=>{const y=S[k];y&&Me.prefetch(k,y)},[]),X=()=>{p(!x)},Y=()=>{switch(d){case"dashboard":return e.jsx(V,{systemStats:m,onNavigate:f,dockerReady:a?.ready!==!1,cloudUser:n,activeNodeId:C});case"servers":return e.jsx(He,{dockerReady:a?.ready!==!1,cloudUser:n,activeNodeId:C,authToken:c});case"nodes":return e.jsx(Fe,{cloudUser:n});case"network":return e.jsx(Ve,{currentUser:n});case"backups":return e.jsx(Je,{currentUser:n});case"settings":return e.jsx(qe,{currentUser:n,onLogout:$});case"accounts":return e.jsx(Ge,{currentUser:n});case"addons":return e.jsx(Qe,{});case"aiHosting":return e.jsx(Ke,{currentUser:n,onExit:()=>f("dashboard")});case"support":return e.jsx(Xe,{user:n});case"admin":return e.jsx(Ye,{});case"users":return e.jsx(Ze,{currentUser:n,authToken:c});default:if(d?.startsWith("addon:")){const[k,y,_]=d.split(":");return e.jsx(We,{addonId:y,itemId:_,items:b})}return e.jsx(V,{systemStats:m,onNavigate:f})}};return l?e.jsx("div",{className:"min-h-screen bg-[#000000] flex items-center justify-center",children:e.jsx(F,{})}):i?e.jsxs("div",{className:"flex flex-col h-screen bg-void-bg overflow-hidden",children:[e.jsx(De,{currentView:d}),d!=="aiHosting"&&e.jsx(Le,{}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d!=="aiHosting"&&e.jsx(Oe,{currentView:d,setCurrentView:f,collapsed:x,onToggleCollapsed:X,onPrefetch:K,currentUser:n,onLogout:$}),e.jsx("main",{ref:g,className:`flex-1 overflow-y-auto ${d==="aiHosting"?"p-0":"p-6"}`,children:e.jsx(r.Suspense,{fallback:e.jsx(F,{}),children:Y()})})]})]}):e.jsx(Re,{onLoginSuccess:N})}if(!window.electronAPI){console.log("[Polyfill] Initializing web-compatible electronAPI");const i=t=>window.location.port==="4000"?`http://localhost:3456${t}`:t,s=()=>{const t={"Content-Type":"application/json"},l=localStorage.getItem("turbonox_token");return l&&(t.Authorization=`Bearer ${l}`),t},n=async(t,l={})=>{const u={...s(),...l.headers||{}},d=await fetch(i(t),{...l,headers:u});if(d.status===401)throw console.warn("Unauthorized access to",t),new Error("Unauthorized");return d},o=async(t,l={})=>{const u=await n(t,l),d=await u.json();if(!u.ok)throw new Error(d.error||`Request failed: ${u.statusText}`);return d},c={config:{backendPort:0,nodeEnv:"production",isDev:!1,platform:"linux",isWeb:!0},minimizeWindow:()=>{},maximizeWindow:()=>{},closeWindow:()=>{},applyAppBehaviorSettings:()=>{},showNotification:(t,l)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{body:l})},factoryReset:()=>alert("Factory reset not supported in web mode"),updaterGetState:()=>Promise.resolve({status:"idle"}),updaterCheck:()=>Promise.resolve({ok:!0,upToDate:!0}),updaterInstall:()=>{},onUpdaterState:()=>()=>{},selectDirectory:()=>Promise.resolve(prompt("Enter absolute directory path on server:")),selectJsonFile:()=>Promise.resolve(prompt("Enter absolute JSON file path on server:")),readTextFile:async t=>(console.warn("readTextFile not implemented in web mode"),""),openExternal:t=>window.open(t,"_blank"),onTurbonoxDeepLink:()=>()=>{},isBetaRequired:()=>Promise.resolve(!1),betaVerify:()=>Promise.resolve({ok:!0}),testDiscordWebhook:()=>Promise.resolve({ok:!0}),controlPlaneGetAuthUrl:t=>o(`/api/control-plane/auth-url?redirect_to=${encodeURIComponent(t||"")}`),controlPlaneMe:()=>o("/api/control-plane/me"),cloudUser:()=>o("/api/control-plane/me").then(t=>t?.user||null).catch(()=>null),controlPlaneProfileGet:()=>o("/api/control-plane/profile"),controlPlaneProfileUpdate:t=>Promise.resolve({profile:null,merged:null}),controlPlaneExchange:t=>o("/api/control-plane/exchange",{method:"POST",body:JSON.stringify({code:t})}),getSystemStats:()=>o("/api/system/stats"),getWslStatus:()=>o("/api/system/wsl/status"),getServers:()=>o("/api/servers"),getNodes:()=>o("/api/nodes"),getServer:t=>o(`/api/servers/${t}`),createServer:t=>o("/api/servers",{method:"POST",body:JSON.stringify(t)}),updateServer:(t,l)=>o(`/api/servers/${t}`,{method:"PUT",body:JSON.stringify(l||{})}),startServer:t=>o(`/api/servers/${t}/start`,{method:"POST"}),stopServer:t=>o(`/api/servers/${t}/stop`,{method:"POST"}),restartServer:t=>o(`/api/servers/${t}/restart`,{method:"POST"}),deleteServer:t=>o(`/api/servers/${t}`,{method:"DELETE"}),getServerResources:t=>o(`/api/servers/${t}/resources`),getServerLogs:t=>o(`/api/servers/${t}/logs`),getAuditLogs:t=>o(`/api/servers/${t}/audit-logs`),getFreePort:()=>o("/api/servers/utils/free-port"),getBackups:()=>o("/api/backups"),createBackup:t=>o(`/api/backups/${t}`,{method:"POST"}),restoreBackup:t=>o(`/api/backups/${t}/restore`,{method:"POST"}),deleteBackup:t=>o(`/api/backups/${t}`,{method:"DELETE"}),getBackupSchedules:()=>o("/api/backups/schedules"),createBackupSchedule:t=>o("/api/backups/schedules",{method:"POST",body:JSON.stringify(t)}),deleteBackupSchedule:t=>o(`/api/backups/schedules/${t}`,{method:"DELETE"}),runBackupSchedule:t=>o(`/api/backups/schedules/${t}/run`,{method:"POST"}),updateBackupSchedule:(t,l)=>o(`/api/backups/schedules/${t}`,{method:"PATCH",body:JSON.stringify(l)}),getBackupPreview:t=>o(`/api/backups/${t}/preview`),cleanupBackups:()=>o("/api/backups/cleanup",{method:"POST"}),getSettings:()=>o("/api/settings").then(t=>({...t,NODE_ENV:"production",IS_DEV:"false"})),updateSettings:t=>o("/api/settings",{method:"PUT",body:JSON.stringify(t)}),getAccounts:()=>o("/api/accounts"),createAccount:t=>o("/api/accounts",{method:"POST",body:JSON.stringify(t)}),updateAccount:(t,l)=>o(`/api/accounts/${t}`,{method:"PUT",body:JSON.stringify(l)}),deleteAccount:t=>o(`/api/accounts/${t}`,{method:"DELETE"}),setActiveAccount:t=>o("/api/accounts/active",{method:"POST",body:JSON.stringify({accountId:t})}).then(l=>(window.dispatchEvent(new CustomEvent("void-active-account-changed",{detail:{accountId:t}})),l)),addonGetUIContributions:()=>Promise.resolve({sidebar:[],dashboardTiles:[],branding:{},globalStyles:[],plugins:[],hooks:{}}),onAddonUIContribution:()=>()=>{},addonGetStatus:()=>Promise.resolve({}),getTemplates:()=>o("/api/templates"),getTemplate:t=>o(`/api/templates/${t}`),importTemplate:t=>o("/api/templates/import",{method:"POST",body:JSON.stringify({templateText:t})}),deleteTemplate:t=>o(`/api/templates/${t}`,{method:"DELETE"}),getEggs:()=>o("/api/eggs"),getEgg:t=>o(`/api/eggs/${t}`),importPtdlEgg:t=>o("/api/eggs/import/ptdl",{method:"POST",body:JSON.stringify({ptdlText:t})}),deleteEgg:t=>o(`/api/eggs/${t}`,{method:"DELETE"}),getActiveNode:()=>o("/api/nodes/active"),setActiveNode:t=>o("/api/nodes/active",{method:"POST",body:JSON.stringify({nodeId:t})}),getDockerStatus:()=>Promise.resolve({supported:!0,ready:!0})};window.electronAPI?Object.assign(window.electronAPI,c):window.electronAPI=c}const tt=({isOpen:i,type:s="alert",title:n,message:o,defaultValue:c="",onClose:t,onConfirm:l})=>{const[u,d]=r.useState(!1),[f,m]=r.useState(c);if(r.useEffect(()=>{if(i)d(!0),m(c),document.body.style.overflow="hidden";else{const p=setTimeout(()=>d(!1),200);return document.body.style.overflow="unset",()=>clearTimeout(p)}},[i,c]),!u&&!i)return null;const h=()=>{switch(s){case"confirm":return e.jsx(we,{className:"w-10 h-10 text-void-purple"});case"prompt":return e.jsx(ve,{className:"w-10 h-10 text-void-cyan"});case"error":return e.jsx(q,{className:"w-10 h-10 text-red-400"});case"success":return e.jsx(be,{className:"w-10 h-10 text-emerald-400"});default:return e.jsx(ge,{className:"w-10 h-10 text-void-cyan"})}},x=()=>{l&&l(s==="prompt"?f:!0)};return e.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 transition-opacity duration-200 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:t}),e.jsxs("div",{className:`
                    relative w-full max-w-sm 
                    bg-void-panel/95 rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.5)] 
                    transform transition-all duration-200 
                    ${i?"scale-100 translate-y-0":"scale-95 translate-y-4"}
                    flex flex-col overflow-hidden
                `,role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${s==="confirm"?"from-void-purple/50 to-void-cyan/50":s==="error"?"from-red-500/50 to-red-400/50":"from-void-cyan/50 to-void-purple/50"} opacity-50`}),e.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[e.jsx("div",{className:`mb-4 p-4 rounded-2xl ${s==="confirm"||s==="prompt"?"bg-void-cyan/10":s==="error"?"bg-red-500/10":"bg-void-cyan/10"}`,children:h()}),e.jsx("h3",{className:"text-xl font-bold text-void-text mb-2 tracking-tight",children:n||(s==="confirm"?"Confirm Action":s==="prompt"?"Input Required":"Attention")}),e.jsx("p",{className:"text-void-muted leading-relaxed text-sm mb-4",children:o}),s==="prompt"&&e.jsx("input",{autoFocus:!0,type:"text",value:f,onChange:p=>m(p.target.value),onKeyDown:p=>{p.key==="Enter"&&x()},className:"w-full px-4 py-3 bg-void-bg border border-white/10 rounded-xl text-void-text outline-none focus:border-void-cyan transition-all font-mono"})]}),e.jsx("div",{className:"p-6 pt-0 flex gap-3",children:s==="confirm"||s==="prompt"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t,className:"flex-1 py-3 px-4 rounded-xl bg-void-bg hover:bg-void-panel-2 text-void-muted font-semibold transition-all shadow-lg active:scale-[0.98]",children:"Cancel"}),e.jsx("button",{onClick:x,className:`flex-1 py-3 px-4 rounded-xl font-bold text-white transition-all shadow-lg active:scale-[0.98] bg-gradient-to-r ${s==="error"?"from-red-600 to-red-400 shadow-red-500/10":"from-void-purple to-void-cyan shadow-void-purple/10"}`,children:s==="prompt"?"Submit":"Confirm"})]}):e.jsx("button",{onClick:x,className:"w-full py-3.5 px-4 bg-void-bg hover:bg-void-panel-2 rounded-xl text-void-text font-bold transition-all shadow-lg active:scale-[0.98]",children:"Understood"})})]})]})},Q=r.createContext(),st=({children:i})=>{const[s,n]=r.useState(null),o=r.useCallback((m,h="Turbonox")=>new Promise(x=>{n({type:"alert",message:m,title:h,resolve:x})}),[]),c=r.useCallback((m,h="Confirm Action")=>new Promise(x=>{n({type:"confirm",message:m,title:h,resolve:x})}),[]),t=r.useCallback((m,h="Error")=>new Promise(x=>{n({type:"error",message:m,title:h,resolve:x})}),[]),l=r.useCallback((m,h="Success")=>new Promise(x=>{n({type:"success",message:m,title:h,resolve:x})}),[]),u=r.useCallback((m,h="Input Required",x="")=>new Promise(p=>{n({type:"prompt",message:m,title:h,defaultValue:x,resolve:p})}),[]),d=r.useCallback(()=>{s&&(s.resolve(s.type==="prompt"?null:!1),n(null))},[s]),f=r.useCallback(m=>{s&&(s.resolve(s.type==="prompt"?m:!0),n(null))},[s]);return e.jsxs(Q.Provider,{value:{alert:o,confirm:c,error:t,success:l,prompt:u},children:[i,s&&e.jsx(tt,{isOpen:!!s,type:s.type,title:s.title,message:s.message,defaultValue:s.defaultValue,onClose:d,onConfirm:f})]})},it=()=>{const i=r.useContext(Q);if(!i)throw new Error("useDialog must be used within a DialogProvider");return i};Ae.createRoot(document.getElementById("root")).render(e.jsx(ye.StrictMode,{children:e.jsx(Ie,{children:e.jsx(st,{children:e.jsx(et,{})})})}));export{w as a,Ue as b,ze as c,it as u};
